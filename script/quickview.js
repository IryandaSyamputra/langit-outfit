!function(e){function a(a){e(a).addClass("active")}function t(a){e(a).removeClass("active")}function r(){e(".qtyplus").click((function(a){var i=e(this).attr("data-field");var t=parseInt(e("input[name="+i+"]").val());isNaN(t)?e("input[name="+i+"]").val(1):e("input[name="+i+"]").val(t+1),a.preventDefault()})),e(".qtyminus").click((function(a){var i=e(this).attr("data-field");var t=parseInt(e("input[name="+i+"]").val());!isNaN(t)&&t>1?e("input[name="+i+"]").val(t-1):e("input[name="+i+"]").val(1),a.preventDefault()}))}function n(i,r,n,c){e.ajax({type:"post",url:"/cart/add.js",data:"quantity="+r+"&id="+i,dataType:"json",beforeSend:function(){a(".loading")},success:function(a){e(".tshopify-popup").removeClass("active"),t(".quickview-product"),Shopify.getCart((function(e){o(e)}))},error:function(i,r){t(".loading"),e(".error-message").text(e.parseJSON(i.responseText).description),a(".error-popup")}})}function o(a){var i=e(".enj-minicart-ajax");if(i.empty(),0===a.item_count){return i.append("<p>"+"Your cart is currently empty."+"</p>"),cartCallback(a),void 0;e(".js-number-cart").removeClass("active")}var t=[],r={},n={},o=e("#CartTemplate").html(),c=Handlebars.compile(o);e.each(a.items,(function(e,a){if(null!=a.image)var i=a.image.replace(/(\.[^.]*)$/,"_small$1").replace("http:","");else var i="//cdn.shopify.com/s/assets/admin/no-image-medium-cc9732cb976dd349a0df1d39816fbcc7.gif";r={id:a.variant_id,line:e+1,url:a.url,img:i,name:a.product_title,variation:a.variant_title,properties:a.properties,itemAdd:a.quantity+1,itemMinus:a.quantity-1,itemQty:a.quantity,price:Shopify.formatMoney(a.price,ajaxCartConfig.moneyFormat),vendor:a.vendor},t.push(r)})),n={items:t,note:a.note,totalPrice:Shopify.formatMoney(a.total_price,ajaxCartConfig.moneyFormat)},i.append(c(n)),e(".enj-cartcount").html(a.item_count),e("body").removeClass("drawer--is-loading"),e("body").trigger("ajaxCart.afterCartLoad",a),e(".js-call-minicart").click(),e(".js-number-cart").addClass("active")}function c(e){return e.toLowerCase().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}function d(){e(window).width()<992?e(".engoj_btn_quickview").each((function(){var a="/products/"+e(this).attr("data-id");e(this).attr("href",a)})):e(".engoj_btn_quickview").attr("href","javascript:void(0)"),e(window).resize((function(){e(window).width()<992?e(".engoj_btn_quickview").each((function(){var a="/products/"+e(this).attr("data-id");e(this).attr("href",a)})):e(".engoj_btn_quickview").attr("href","javascript:void(0)")}))}function s(){e(".engoj_btn_quickview").click((function(){a(".loading");var i=e(this).data("id");var t=20*e(this).closest(".product-info").find(".spr-badge").attr("data-rating")+"%";return Shopify.getProduct(i,(function(a){var i=e("#quick-view").html();e(".quickview-product").html(i);var n=e(".quickview-product");if(n.find(".product-name a").html(a.title).attr("href",a.url),n.find(".spr-badge .spr-active").css({width:t}),n.find(".star-rating .shopify-product-reviews-badge").attr("data-id",a.id),n.find(".des").length>0){var o=a.description.replace(/(<([^>]+)>)/gi,"");o=o.split(" ").splice(0,20).join(" ")+"...",n.find(".des").text(o)}else n.find(".des").remove();n.find(".price").html(Shopify.formatMoney(a.price,window.money_format)),n.find(".product-inner").attr("id","product-"+a.id),n.find(".variants").attr("id","product-actions-"+a.id),n.find(".variants select").attr("id","product-select-"+a.id),a.compare_at_price>a.price?(n.find(".compare-price").html(Shopify.formatMoney(currencyConverter(a.compare_at_price_max),window.money_format)).show(),n.find(".price").addClass("on-sale")):(n.find(".compare-price").html(""),n.find(".price").removeClass("on-sale")),a.available?(n.find(".total-price span").html(Shopify.formatMoney(currencyConverter(a.price),window.money_format)),l.createQuickViewVariantsSwatch(a,n)):(n.find("select, input, .total-price, .dec, .inc, .variants label").remove(),n.find(".btn-addToCart").text("unavailable").addClass("disabled").attr("disabled","disabled")),r(),l.quickViewSlider(a,n),l.initQuickviewAddToCart(),e(".quickview-product").addClass("active"),e(".loading").addClass("loaded-content"),e(".quickview-product .total-price").length>0&&(e(".quickview-product span[class=qtyplus]").on("click",l.updatePricingQuickview),e(".quickview-product span[class=qtyminus]").on("click",l.updatePricingQuickview))})),!1}))}window.showPopup=a,window.qtyProduct=r,window.doAjaxAddToCart=n,window.convertToSlug=c,e(document).ready((function(){e(window).width()<992?d():s(),e(window).resize((function(){e(window).width()<992?d():s()}))})),e(document).on("click",".overlay,.continue-shopping, .close-window",(function(){return t(".tshopify-popup"),setTimeout((function(){e(".loading").removeClass("loaded-content")}),500),!1})),window.quickView=s;var l={selectCallbackQuickview:function(a,i){var t=this;var r=jQuery(".quickview-product .product-item"),n=r.find(".btn-addToCart"),o=r.find(".price"),c=r.find(".compare-price"),d=r.find(".total-price span");if(a&&a.featured_image){var s=jQuery(".engoj_img_main_quickview");var l=a.featured_image;var u=s[0];Shopify.Image.switchImage(l,u,(function(a,i,t){var r;e(t).attr("src",a)}))}if(a){a.available?n.removeClass("disabled").removeAttr("disabled").text("Add to Cart"):n.val("sold_out").addClass("disabled").attr("disabled","disabled").text("Sold Out"),o.html(Shopify.formatMoney(currencyConverter(a.price),window.money_format)),a.compare_at_price>a.price?(c.html(Shopify.formatMoney(currencyConverter(a.compare_at_price),window.money_format)).show(),o.addClass("on-sale")):(c.hide(),o.removeClass("on-sale"));var p=jQuery("#"+i.domIdPrefix).closest("form");for(var v=0,f=a.options.length;v<f;v++){var m=p.find('.swatch[data-option-index="'+v+'"] :radio[value="'+a.options[v]+'"]');m.length&&(m.get(0).checked=!0)}var w=r.find(".product-inventory span");a.available?null!=a.inventory_management?w.text(a.inventory_quantity+" "+"in_stock"):w.text("many_in_stock"):w.text("out_of_stock");var h=/([0-9]+[.|,][0-9]+[.|,][0-9]+)/g;var g=e(".quickview-product .price").text().match(h);if(g||(h=/([0-9]+[.|,][0-9]+)/g,g=e(".quickview-product .price").text().match(h)),g){var y=g[0];var k;var b;var d=y.replace(/[.|,]/g,"")*parseInt(e(".quickview-product input[name=quantity]").val());d=currencyConverter(d);var _=Shopify.formatMoney(d,window.money_format);h=/([0-9]+[.|,][0-9]+[.|,][0-9]+)/g,_.match(h)||(h=/([0-9]+[.|,][0-9]+)/g),_=_.match(h)[0];var q=new RegExp(y,"g");var C=e(".quickview-product .price").html().replace(q,_);e(".quickview-product .total-price span").html(C)}var l;if(a&&a.featured_image)l=(l=Shopify.resizeImage(a.featured_image.src,"small")).replace(/https?:/,""),jQuery(".quick-view .quickview-more-views img").each((function(){var e;if(jQuery(this).attr("src")==l)return jQuery(this).parent().trigger("click"),!1}))}else n.text("unavailable").addClass("disabled").attr("disabled","disabled");Currency.convertAll(shopCurrency,jQuery("#currencies a.selected").attr("data-currency")),jQuery(".selected-currency").text(Currency.currentCurrency)},createQuickViewVariantsSwatch:function(a,i){var t=this;if(a.variants.length>1){for(var r=0;r<a.variants.length;r++){var n;var o='<option value="'+(n=a.variants[r]).id+'">'+n.title+"</option>";i.find("form.variants > select").append(o)}new Shopify.OptionSelectors("product-select-"+a.id,{product:a,onVariantSelected:t.selectCallbackQuickview,enableHistoryState:!0});var d=window.file_url.substring(0,window.file_url.lastIndexOf("?"));var s=window.asset_url.substring(0,window.asset_url.lastIndexOf("?"));var l="";for(var r=0;r<a.options.length;r++){l+='<div class="swatch clearfix" data-option-index="'+r+'">',l+='<div class="header">'+a.options[r].name+"</div>";var u=!1;/Color|Colour/i.test(a.options[r].name)&&(u=!0);var p=new Array;for(var v=0;v<a.variants.length;v++){var n;var f=(n=a.variants[v]).options[r];var m=c(f);var w="swatch-"+r+"_"+m;p.indexOf(f)<0&&(l+='<div data-value="'+f+'" class=" '+(u?"color":"")+m+(n.available?" available ":" soldout ")+'">',l+='<input id="'+w+'" type="radio" name="option-'+r+'" value="'+f+'" '+(0==v?" checked ":"")+(n.available?"":" disabled")+" />",l+=u?'<label class="link_color" for="'+w+'" style="background-color: '+m+';"></label>':'<label class="variant_other" for="'+w+'">'+f+"</label>",l+="</div>",n.available&&e('.quickview-product .swatch[data-option-index="'+r+'"] .'+m).removeClass("soldout").addClass("available").find(":radio").removeAttr("disabled"),p.push(f))}l+="</div>"}i.find("form.variants > select").after(l),i.find(".swatch :radio").change((function(){var a=e(this).closest(".swatch").attr("data-option-index");var i=e(this).val();e(this).closest("form").find(".single-option-selector").eq(a).val(i).trigger("change")})),a.available&&a.options.size>1&&(Shopify.optionsMap={},Shopify.linkOptionSelectors(a))}else{i.find("form.variants > select").remove();var h='<input type="hidden" name="id" value="'+a.variants[0].id+'">';i.find("form.variants").append(h)}},createQuickViewVariants:function(a,i){var t=this;if(a.variants.length>1){for(var r=0;r<a.variants.length;r++){var n=a.variants[r];var o='<option value="'+n.id+'">'+n.title+"</option>";i.find("form.variants > select").append(o)}new Shopify.OptionSelectors("product-select-"+a.id,{product:a,onVariantSelected:t.selectCallbackQuickview,enableHistoryState:!0}),e(".quickview-product .selectize-input input").attr("disabled","disabled"),1==a.options.length&&e(".selector-wrapper:eq(0)").prepend("<label>"+a.options[0].name+"</label>"),i.find("form.variants .selector-wrapper label").each((function(i,t){e(this).html(a.options[i].name)}))}else{i.find("form.variants > select").remove();var c='<input type="hidden" name="id" value="'+a.variants[0].id+'">';i.find("form.variants").append(c)}},quickViewSlider:function(a,t){var r=Shopify.resizeImage(a.featured_image,"grande");if(t.find(".featured-image").append('<a title="'+a.title+'" class="product-photo" href="'+a.url+'"><img class="engoj_img_main_quickview lazyload" data-src="'+r+'" alt="'+a.title+'"/><span class="loading" style="height: 100%; width: 100%; top:0; left:0 z-index: 999; position: absolute; display: none; background: url('+window.loading_url+') center no-repeat;"></span></a>'),0!=a.images.length){var n=t.find(".more-views .owl-carousel");for(i in a.images){var o;var c;var d='<div class="item"><a href="javascript:void(0)" data-image="'+Shopify.resizeImage(a.images[i],"grande")+'"><img data-src="'+Shopify.resizeImage(a.images[i],"compact")+'" class="lazyload"  /></a></div>';n.append(d)}n.find("a").click((function(){var a=t.find(".featured-image img");var i=t.find(".featured-image .loading");a.attr("src")!=e(this).attr("data-image")&&(a.attr("src",e(this).attr("data-image")),i.show(),a.on("load",(function(a){i.hide(),e(this).unbind("load"),i.hide()})))})),setTimeout((function(){var a;e(".owl-carousel").find(".item").length>3&&e(".quickview-product .owl-carousel").slick({slidesToShow:3,slideToScroll:1,dots:!1,arrows:!1})}),1e3)}else t.find(".more-views").remove()},initQuickviewAddToCart:function(){e(".quickview-product .btn-addToCart").length>0&&e(".quickview-product .btn-addToCart").click((function(){var a=e(".quickview-product select[name=id]").val();a||(a=e(".quickview-product input[name=id]").val());var i=e(".quickview-product input[name=quantity]").val();var t;var r;i||(i=1),n(a,i,e(".quickview-product .product-title a").html(),e(".quickview-product .featured-image img").attr("src"))}))},updatePricingQuickview:function(){var a=/([0-9]+[.|,][0-9]+[.|,][0-9]+)/g;var i=e(".quickview-product .price").text().match(a);if(i||(a=/([0-9]+[.|,][0-9]+)/g,i=e(".quickview-product .price").text().match(a)),i){var t=i[0];var r;var n;var o=t.replace(/[.|,]/g,"")*parseInt(e(".quickview-product input[name=quantity]").val());var c=Shopify.formatMoney(o,window.money_format);a=/([0-9]+[.|,][0-9]+[.|,][0-9]+)/g,c.match(a)||(a=/([0-9]+[.|,][0-9]+)/g),c=c.match(a)[0];var d=new RegExp(t,"g");var s=e(".quickview-product .price").html().replace(d,c);e(".quickview-product .total-price span").html(s)}}}}(jQuery);
//# sourceMappingURL=/s/files/1/0596/1678/8676/t/6/assets/quickview.js.map?v=17885078160510368308